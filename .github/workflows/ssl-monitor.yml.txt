name: SSL Automation CI/CD Workflow

on:
  push:
    branches: [ main ]

jobs:
  ssl-check:
    runs-on: windows-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Install OpenSSL
        run: choco install openssl.light -y

      - name: Run SSL Test
        shell: cmd
        run: |
          echo Running SSL Check...
          mkdir ssl-test
          cd ssl-test
          openssl req -x509 -nodes -days 2 -newkey rsa:2048 -keyout demo.key -out demo.crt -subj "/CN=localhost"
          openssl x509 -in demo.crt -enddate -noout
          echo âœ… SSL Check Complete.
