name: SSL Automation CI/CD Workflow

on:
  push:
    branches: [ main ]

jobs:
  ssl-check:
    runs-on: windows-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Install OpenSSL
        run: choco install openssl.light -y

      - name: Run SSL Test with Simulated Expiry
        shell: cmd
        run: |
          echo ========================================
          echo üîê Starting SSL Automation Pipeline
          echo ========================================
          mkdir ssl-test
          cd ssl-test
          echo ‚úÖ Generating a short-lived SSL certificate...
          openssl req -x509 -nodes -days 1 -newkey rsa:2048 -keyout demo.key -out demo.crt -subj "/CN=localhost"
          echo ‚úÖ Certificate successfully created.
          openssl x509 -in demo.crt -enddate -noout
          echo ‚ö†Ô∏è ALERT: Simulated SSL Expiry Warning (For Demo)!
          echo ========================================
          echo ‚úÖ SSL Automation Workflow Completed
